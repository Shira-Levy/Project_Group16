<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Select Crew</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <div class="container">
    <a class="btn secondary-btn" href="{{ url_for('manager_add_flight') }}">← Back</a>

    <h2 style="margin-top:10px;">Select Crew</h2>

    <p>
      <b>Flight:</b> Airplane {{ a_id }} ({{ airplane_size }}) |
      Route {{ r_id }} ({{ duration_hours }}h) |
      Departure: {{ date_f }} {{ time_f }} |
      Arrival: {{ date_a }} {{ time_a }}
      <br>
      <b>Required:</b> {{ req_pilots }} Pilots, {{ req_attendants }} Attendants |
      <b>Type:</b> {{ f_type }}
    </p>

    {% if error %}
      <p style="color:#b00020;"><b>{{ error }}</b></p>
    {% endif %}

    <form method="post" action="{{ url_for('manager_add_flight') }}">
      <input type="hidden" name="stage" value="confirm">
      <input type="hidden" name="a_id" value="{{ a_id }}">
      <input type="hidden" name="r_id" value="{{ r_id }}">
      <input type="hidden" name="date_f" value="{{ date_f }}">
      <input type="hidden" name="time_f" value="{{ time_f }}">

      <label><b>Choose Pilots (select {{ req_pilots }})</b></label>
      <select name="pilots" class="signup-input" multiple required size="8">
        {% for p in available_pilots %}
          <option value="{{ p[0] }}">{{ p[0] }} — {{ p[1] }} {{ p[2] }}</option>
        {% endfor %}
      </select>

      <label><b>Choose Attendants (select {{ req_attendants }})</b></label>
      <select name="attendants" class="signup-input" multiple required size="10">
        {% for a in available_attendants %}
          <option value="{{ a[0] }}">{{ a[0] }} — {{ a[1] }} {{ a[2] }}</option>
        {% endfor %}
      </select>

      <button class="btn main-btn" type="submit" style="margin-top:14px;">
        Confirm & Create Flight
      </button>
    </form>
  </div>
</body>
</html>
